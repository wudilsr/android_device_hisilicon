/******************************************************************************

  Copyright (C), 2012-2050, Hisilicon Tech. Co., Ltd.

 ******************************************************************************
  File Name     : drv_hdmirx_input.c
  Version       : Initial Draft
  Author        : Hisilicon multimedia software group
  Created       : 2014/01/16
  Description   : 
  History       :
  1.Date        : 2014/01/16
    Author      :  t00202585
    Modification: Created file
******************************************************************************/

#ifdef __cplusplus
 #if __cplusplus
    extern "C" {
 #endif
#endif /* __cplusplus */

#include <linux/delay.h>
#include "hi_drv_dev.h"
#include "drv_hdmirx.h"
#include "hal_hdmirx.h"
#include "drv_hdmirx_input.h"
#include "hi_reg_common.h"
#include "drv_hdmirx_ctrl.h"
//#include "hi_board.h"

static const HI_U32 au32AddrTable[4] = {0x10,0x20,0x30,0x40};
HI_BOOL bSupEDIDInit = HI_FALSE;
HI_BOOL bSupEDIDChg = HI_FALSE;


static const HI_U32 au32OldEdidTable[256] = {
    0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x21, 0x33, 0x33, 0x34, 0x00, 0x00, 0x00, 0x97,
    0x2F, 0x0E, 0x01, 0x03, 0x80, 0x3C, 0x22, 0x61, 0x2B, 0xD4, 0x6C, 0xA3, 0x57, 0x49, 0x9C, 0x25,
    0x11, 0x48, 0x4B, 0xBD, 0xEF, 0x80, 0x81, 0xC1, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
    0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x02, 0x3A, 0x80, 0x18, 0x71, 0x38, 0x2D, 0x40, 0x58, 0x2C,
    0x45, 0x00, 0xA0, 0x5A, 0x00, 0x00, 0x00, 0x1E, 0x66, 0x21, 0x56, 0xAA, 0x51, 0x00, 0x1E, 0x30,
    0x46, 0x8F, 0x33, 0x00, 0xA0, 0x5A, 0x00, 0x00, 0x00, 0x1E, 0x00, 0x00, 0x00, 0xFC, 0x00, 0x53,
    0x41, 0x4D, 0x53, 0x55, 0x4E, 0x47, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x00, 0x00, 0x00, 0xFD,
    0x00, 0x18, 0x4B, 0x0F, 0x51, 0x11, 0x00, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x01, 0x34,

    0x02, 0x03, 0x30, 0xF1, 0x4D, 0x90, 0x1F, 0x04, 0x13, 0x05, 0x14, 0x03, 0x12, 0x20, 0x21, 0x22,
    0x07, 0x16, 0x23, 0x09, 0x07, 0x07, 0x83, 0x01, 0x00, 0x00, 0x02, 0x00, 0x0F, 0x72, 0x03, 0x0C,
    0x00, 0x30, 0x00, 0x80, 0x1E, 0x21, 0xD0, 0x08, 0x01, 0x40, 0x07, 0x3F, 0x40, 0x50, 0x90, 0xA0,
    0x02, 0x3A, 0x80, 0x18, 0x71, 0x38, 0x2D, 0x40, 0x58, 0x2C, 0x45, 0x00, 0x10, 0x09, 0x00, 0x00,
    0x00, 0x1E, 0x01, 0x1D, 0x00, 0x72, 0x51, 0xD0, 0x1E, 0x20, 0x6E, 0x28, 0x55, 0x00, 0x10, 0x09,
    0x00, 0x00, 0x00, 0x1E, 0x01, 0x1D, 0x00, 0xBC, 0x52, 0xD0, 0x1E, 0x20, 0xB8, 0x28, 0x55, 0x40,
    0x10, 0x09, 0x00, 0x00, 0x00, 0x1E, 0x01, 0x1D, 0x80, 0x18, 0x71, 0x1C, 0x16, 0x20, 0x58, 0x2C,
    0x25, 0x00, 0x10, 0x09, 0x00, 0x00, 0x00, 0x9E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,
};
 /*

 //sanxing EDID
static const HI_U32 au32EdidTable[256] = {
    0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x21, 0x33, 0x30, 0x00, 0x01, 0x00, 0x00, 0x00,
    0x23, 0x14, 0x01, 0x03, 0x80, 0x73, 0x41, 0x78, 0x0A, 0xCF, 0x74, 0xA3, 0x57, 0x4C, 0xB0, 0x23,
    0x09, 0x48, 0x4C, 0x21, 0x08, 0x00, 0x81, 0xC0, 0x81, 0x40, 0x81, 0x80, 0x01, 0x01, 0x01, 0x01,
    0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x02, 0x3A, 0x80, 0x18, 0x71, 0x38, 0x2D, 0x40, 0x58, 0x2C,
    0x45, 0x00, 0x80, 0x88, 0x42, 0x00, 0x00, 0x1E, 0x1B, 0x21, 0x50, 0xA0, 0x51, 0x00, 0x1E, 0x30,
    0x48, 0x88, 0x35, 0x00, 0x44, 0x4A, 0x21, 0x00, 0x00, 0x1C, 0x00, 0x00, 0x00, 0xFC, 0x00, 0x48,
    0x44, 0x4D, 0x49, 0x20, 0x20, 0x20, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x00, 0x00, 0x00, 0xFD,
    0x00, 0x32, 0x4B, 0x0F, 0x45, 0x0F, 0x00, 0x0A, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x01, 0xDB,

    0x02, 0x03, 0x29, 0x71, 0x4B, 0x01, 0x02, 0x04, 0x05, 0x90, 0x14, 0x1F, 0x11, 0x20, 0x21, 0x22,
    0x23, 0x09, 0x07, 0x07, 0x83, 0x01, 0x00, 0x00, 0x70, 0x03, 0x0C, 0x00, 0x10, 0x00, 0x38, 0x3C,
    0x20, 0xA0, 0x82, 0x01, 0x02, 0x03, 0x00, 0x01, 0x41, 0x01, 0x1D, 0x80, 0xD0, 0x72, 0x1C, 0x16,
    0x20, 0x10, 0x2C, 0x25, 0x80, 0xC4, 0x8E, 0x21, 0x00, 0x00, 0x9E, 0x01, 0x1D, 0x80, 0x18, 0x71,
    0x1C, 0x16, 0x20, 0x58, 0x2C, 0x25, 0x00, 0xC4, 0x8E, 0x21, 0x00, 0x00, 0x9E, 0x01, 0x1D, 0x00,
    0x72, 0x51, 0xD0, 0x1E, 0x20, 0x6E, 0x28, 0x55, 0x00, 0xC4, 0x8E, 0x21, 0x00, 0x00, 0x18, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xCC,
};
*/

//make by sanxing
static const HI_U32 au32EdidTable[256] = {
    0x00,	0xFF,	0xFF,	0xFF,	0xFF,	0xFF,	0xFF,	0x00,	0x21,	0x33,	0x30,	0x00,	0x01,	0x00,	0x00,	0x00,
    0x23,	0x14,	0x01,	0x03,	0x80,	0x73,	0x41,	0x78,	0x0A,	0xCF,	0x74,	0xA3,	0x57,	0x4C,	0xB0,	0x23,
    0x09,	0x48,	0x4C,	0x21,	0x08,	0x00,	0x81,	0xC0,	0x81,	0x40,	0x81,	0x80,	0x01,	0x01,	0x01,	0x01,
    0x01,	0x01,	0x01,	0x01,	0x01,	0x01,	0x02,	0x3A,	0x80,	0x18,	0x71,	0x38,	0x2D,	0x40,	0x58,	0x2C,
    0x45,	0x00,	0x80,	0x88,	0x42,	0x00,	0x00,	0x1E,	0x1B,	0x21,	0x50,	0xA0,	0x51,	0x00,	0x1E,	0x30,
    0x48,	0x88,	0x35,	0x00,	0x44,	0x4A,	0x21,	0x00,	0x00,	0x1C,	0x00,	0x00,	0x00,	0xFC,	0x00,	0x48,
    0x49,	0x53,	0x0A,	0x20,	0x20,	0x20,	0x20,	0x20,	0x20,	0x20,	0x20,	0x20,	0x00,	0x00,	0x00,	0xFD,
    0x00,	0x17,	0x55,	0x0F,	0x45,	0x1E,	0x00,	0x0A,	0x20,	0x20,	0x20,	0x20,	0x20,	0x20,	0x01,	0xFB,
    0x02, 0x03, 0x29, 0x71, 0x4B, 0x01, 0x02, 0x04, 0x05, 0x90, 0x14, 0x1F, 0x11, 0x20, 0x21, 0x22,
    0x23, 0x09, 0x07, 0x07, 0x83, 0x01, 0x00, 0x00, 0x70, 0x03, 0x0C, 0x00, 0x10, 0x00, 0x38, 0x3C,
    0x20, 0xA0, 0x82, 0x01, 0x02, 0x03, 0x00, 0x01, 0x41, 0x01, 0x1D, 0x80, 0xD0, 0x72, 0x1C, 0x16,
    0x20, 0x10, 0x2C, 0x25, 0x80, 0xC4, 0x8E, 0x21, 0x00, 0x00, 0x9E, 0x01, 0x1D, 0x80, 0x18, 0x71,
    0x1C, 0x16, 0x20, 0x58, 0x2C, 0x25, 0x00, 0xC4, 0x8E, 0x21, 0x00, 0x00, 0x9E, 0x01, 0x1D, 0x00,
    0x72, 0x51, 0xD0, 0x1E, 0x20, 0x6E, 0x28, 0x55, 0x00, 0xC4, 0x8E, 0x21, 0x00, 0x00, 0x18, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xCC

};

/*
//chuangwei EDID
static const HI_U32 au32EdidTable[256] = {
    0x00,0xFF,0xFF,0xFF,    0xFF,0xFF,0xFF,0x00,    0x4D,0x79,0x01,0x00,    0x01,0x01,0x01,0x01,
    0x10,0x18,0x01,0x03,    0x81,0x00,0x00,0x78,    0x0A,0xEE,0x9D,0xA3,    0x54,0x4C,0x99,0x26,
    0x0F,0x47,0x4A,0xBF,    0xEF,0x00,0x01,0x01,    0x01,0x01,0x01,0x01,    0x01,0x01,0x01,0x01,
    0x01,0x01,0x01,0x01,    0x01,0x01,0x02,0x3A,    0x80,0x18,0x71,0x38,    0x2D,0x40,0x58,0x2C,
    0x45,0x00,0xC4,0x8E,    0x21,0x00,0x00,0x1E,    0x66,0x21,0x50,0xB0,    0x51,0x00,0x1B,0x30,
    0x40,0x70,0x36,0x00,    0xC4,0x8E,0x21,0x00,    0x00,0x1E,0x00,0x00,    0x00,0xFC,0x00,0x53,
    0x6B,0x79,0x77,0x6F,    0x72,0x74,0x68,0x20,    0x54,0x56,0x0A,0x20,    0x00,0x00,0x00,0xFD,
    0x00,0x30,0x4C,0x0F,    0x55,0x1E,0x00,0x0A,    0x20,0x20,0x20,0x20,    0x20,0x20,0x01,0x22,
    
    0x02,0x03,0x2F,0x74,    0x51,0x02,0x04,0x11,    0x13,0x20,0x22,0x90,    0x21,0x1F,0x06,0x15,
    0x03,0x07,0x12,0x16,    0x05,0x14,0x23,0x09,    0x07,0x07,0x83,0x01,    0x00,0x00,0x6F,0x03,
    0x0C,0x00,0x10,0x00,    0xB8,0x3C,0x20,0xA0,    0x62,0x01,0x02,0x03,    0x01,0x41,0x00,0x01,
    0x1D,0x00,0xBC,0x52,    0xD0,0x1E,0x20,0xB8,    0x28,0x55,0x40,0xC4,    0x8E,0x21,0x00,0x00,
    0x1E,0x01,0x1D,0x80,    0xD0,0x72,0x1C,0x16,    0x20,0x10,0x2C,0x25,    0x80,0xC4,0x8E,0x21,
    0x00,0x00,0x9E,0x8C,    0x0A,0xD0,0x8A,0x20,    0xE0,0x2D,0x10,0x10,    0x3E,0x96,0x00,0xC4,
    0x8E,0x21,0x00,0x00,    0x18,0x8C,0x0A,0xD0,    0x90,0x20,0x40,0x31,    0x20,0x0C,0x40,0x55,
    0x00,0xC4,0x8E,0x21,    0x00,0x00,0x18,0x00,    0x00,0x00,0x00,0x00,    0x00,0x00,0x00,0xE8 
    
};
*/ 
/*
 //mix old and sanxing
    static const HI_U32 au32EdidTable[256] = {
    0x00,	0xFF,	0xFF,	0xFF,	0xFF,	0xFF,	0xFF,	0x00,	0x21,	0x33,	0x30,	0x00,	0x01,	0x00,	0x00,	0x00,
    0x23,	0x14,	0x01,	0x03,	0x80,	0x73,	0x41,	0x78,	0x0A,	0xCF,	0x74,	0xA3,	0x57,	0x4C,	0xB0,	0x23,
    0x09,	0x48,	0x4C,	0x21,	0x08,	0x00,	0x81,	0xC0,	0x81,	0x40,	0x81,	0x80,	0x01,	0x01,	0x01,	0x01,
    0x01,	0x01,	0x01,	0x01,	0x01,	0x01,	0x02,	0x3A,	0x80,	0x18,	0x71,	0x38,	0x2D,	0x40,	0x58,	0x2C,
    0x45,	0x00,	0x80,	0x88,	0x42,	0x00,	0x00,	0x1E,	0x1B,	0x21,	0x50,	0xA0,	0x51,	0x00,	0x1E,	0x30,
    0x48,	0x88,	0x35,	0x00,	0x44,	0x4A,	0x21,	0x00,	0x00,	0x1C,	0x00,	0x00,	0x00,	0xFC,	0x00,	0x48,
    0x49,	0x53,	0x0A,	0x20,	0x20,	0x20,	0x20,	0x20,	0x20,	0x20,	0x20,	0x20,	0x00,	0x00,	0x00,	0xFD,
    0x00,	0x17,	0x55,	0x0F,	0x45,	0x1E,	0x00,	0x0A,	0x20,	0x20,	0x20,	0x20,	0x20,	0x20,	0x01,	0xFB,
    
    0x02,   0x03,   0x2B,   0x71,   0x4B,   0x01,   0x02,   0x04,   0x05,   0x90,   0x14,   0x1F,   0x11,   0x20,   0x21,   0x22,
    0x23,   0x09,   0x07,   0x07,   0x83,   0x01,   0x00,   0x00,   0x72,   0x03,   0x0C,   0x00,   0x10,   0x00,   0x80,   0x1E,
    0x21,   0xD0,   0x08,   0x01,   0x40,   0x07,   0x3F,   0x40,   0x50,   0x90,   0xA0,   0x01,   0x1D,   0x80,   0xD0,   0x72,
    0x1C,   0x16,   0x20,   0x10,   0x2C,   0x25,   0x80,   0xC4,   0x8E,   0x21,   0x00,   0x00,   0x9E,   0x01,   0x1D,   0x80,
    0x18,   0x71,   0x1C,   0x16,   0x20,   0x58,   0x2C,   0x25,   0x00,   0xC4,   0x8E,   0x21,   0x00,   0x00,   0x9E,   0x01,
    0x1D,   0x00,   0x72,   0x51,   0xD0,   0x1E,   0x20,   0x6E,   0x28,   0x55,   0x00,   0xC4,   0x8E,   0x21,   0x00,   0x00,
    0x18,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,
    0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0xE8
};
*/
/* 
//sanxing without 4K*2K
static const HI_U32 au32EdidTable[256] = {
    0x00,	0xFF,	0xFF,	0xFF,	0xFF,	0xFF,	0xFF,	0x00,	0x21,	0x33,	0x30,	0x00,	0x01,	0x00,	0x00,	0x00,
    0x23,	0x14,	0x01,	0x03,	0x80,	0x73,	0x41,	0x78,	0x0A,	0xCF,	0x74,	0xA3,	0x57,	0x4C,	0xB0,	0x23,
    0x09,	0x48,	0x4C,	0x21,	0x08,	0x00,	0x81,	0xC0,	0x81,	0x40,	0x81,	0x80,	0x01,	0x01,	0x01,	0x01,
    0x01,	0x01,	0x01,	0x01,	0x01,	0x01,	0x02,	0x3A,	0x80,	0x18,	0x71,	0x38,	0x2D,	0x40,	0x58,	0x2C,
    0x45,	0x00,	0x80,	0x88,	0x42,	0x00,	0x00,	0x1E,	0x1B,	0x21,	0x50,	0xA0,	0x51,	0x00,	0x1E,	0x30,
    0x48,	0x88,	0x35,	0x00,	0x44,	0x4A,	0x21,	0x00,	0x00,	0x1C,	0x00,	0x00,	0x00,	0xFC,	0x00,	0x48,
    0x49,	0x53,	0x0A,	0x20,	0x20,	0x20,	0x20,	0x20,	0x20,	0x20,	0x20,	0x20,	0x00,	0x00,	0x00,	0xFD,
    0x00,	0x17,	0x55,	0x0F,	0x45,	0x1E,	0x00,	0x0A,	0x20,	0x20,	0x20,	0x20,	0x20,	0x20,	0x01,	0xFB,
    
    
    0x02,   0x03,   0x25,   0x71,   0x4B,   0x01,   0x02,   0x04,   0x05,   0x90,   0x14,   0x1F,   0x11,   0x20,   0x21,   0x22,
    0x23,   0x09,   0x07,   0x07,   0x83,   0x01,   0x00,   0x00,   0x6C,   0x03,   0x0C,   0x00,   0x10,   0x00,   0x38,   0x3C,
    0x20,   0xA0,   0x02,   0x01,   0x41,   0x01,   0x1D,   0x80,   0x10,   0x72,   0x1C,   0x16,   0x20,   0x10,   0x2C,   0x25,
    0x80,   0xC4,   0x8E,   0x21,   0x00,   0x00,   0x9E,   0x01,   0x1D,   0x80,   0x18,   0x71,   0x1C,   0x16,   0x20,   0x58,
    0x2C,   0x25,   0x00,   0xC4,   0x8E,   0x21,   0x00,   0x00,   0x9E,   0x01,   0x1D,   0x00,   0x72,   0x51,   0xD0,   0x1E,
    0x20,   0x6E,   0x28,   0x55,   0x00,   0xC4,   0x8E,   0x21,   0x00,   0x00,   0x18,   0x00,   0x00,   0x00,   0x00,   0x00,
    0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,
    0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x1A   

};
*/
/*old add 4K*2k
static const HI_U32 au32EdidTable[256] = {
    0x00,	0xFF,	0xFF,	0xFF,	0xFF,	0xFF,	0xFF,	0x00,	0x21,	0x33,	0x30,	0x00,	0x01,	0x00,	0x00,	0x00,
    0x23,	0x14,	0x01,	0x03,	0x80,	0x73,	0x41,	0x78,	0x0A,	0xCF,	0x74,	0xA3,	0x57,	0x4C,	0xB0,	0x23,
    0x09,	0x48,	0x4C,	0x21,	0x08,	0x00,	0x81,	0xC0,	0x81,	0x40,	0x81,	0x80,	0x01,	0x01,	0x01,	0x01,
    0x01,	0x01,	0x01,	0x01,	0x01,	0x01,	0x02,	0x3A,	0x80,	0x18,	0x71,	0x38,	0x2D,	0x40,	0x58,	0x2C,
    0x45,	0x00,	0x80,	0x88,	0x42,	0x00,	0x00,	0x1E,	0x1B,	0x21,	0x50,	0xA0,	0x51,	0x00,	0x1E,	0x30,
    0x48,	0x88,	0x35,	0x00,	0x44,	0x4A,	0x21,	0x00,	0x00,	0x1C,	0x00,	0x00,	0x00,	0xFC,	0x00,	0x48,
    0x49,	0x53,	0x0A,	0x20,	0x20,	0x20,	0x20,	0x20,	0x20,	0x20,	0x20,	0x20,	0x00,	0x00,	0x00,	0xFD,
    0x00,	0x17,	0x55,	0x0F,	0x45,	0x1E,	0x00,	0x0A,	0x20,	0x20,	0x20,	0x20,	0x20,	0x20,	0x01,	0xFB,
        
    0x02,   0x03,   0x2F,   0x71,   0x4B,   0x01,   0x02,   0x04,   0x05,   0x90,   0x14,   0x1F,   0x11,   0x20,   0x21,   0x22,
    0x23,   0x09,   0x07,   0x07,   0x83,   0x01,   0x00,   0x00,   0x76,   0x03,   0x0C,   0x00,   0x10,   0x00,   0x80,   0x1E,
    0x21,   0xD0,   0x88,   0x01,   0x02,   0x03,   0x00,   0x01,   0x40,   0x07,   0x3F,   0x40,   0x50,   0x90,   0xA0,   0x01,
    0x1D,   0x80,   0xD0,   0x72,   0x1C,   0x16,   0x20,   0x10,   0x2C,   0x25,   0x80,   0xC4,   0x8E,   0x21,   0x00,   0x00,
    0x9E,   0x01,   0x1D,   0x80,   0x18,   0x71,   0x1C,   0x16,   0x20,   0x58,   0x2C,   0x25,   0x00,   0xC4,   0x8E,   0x21,
    0x00,   0x00,   0x9E,   0x01,   0x1D,   0x00,   0x72,   0x51,   0xD0,   0x1A,   0x20,   0x6E,   0x28,   0x55,   0x00,   0xC4,
    0x8E,   0x21,   0x00,   0x00,   0x18,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,
    0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x00,   0x5E
    

};
*/
/*
//chuangwei EDID 0616
static const HI_U32 au32EdidTable[256] = {
    0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x4D,0x79,0x01,0x00,0x01,0x01,0x01,0x01,
    0x18,0x18,0x01,0x03,0x81,0x00,0x00,0x78,0x0A,0xEE,0x9D,0xA3,0x54,0x4C,0x99,0x26,
    0x0F,0x47,0x4A,0xBF,0xEF,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
    0x01,0x01,0x01,0x01,0x01,0x01,0x02,0x3A,0x80,0x18,0x71,0x38,0x2D,0x40,0x58,0x2C,
    0x45,0x00,0xC4,0x8E,0x21,0x00,0x00,0x1E,0x66,0x21,0x50,0xB0,0x51,0x00,0x1B,0x30,
    0x40,0x70,0x36,0x00,0xC4,0x8E,0x21,0x00,0x00,0x1E,0x00,0x00,0x00,0xFC,0x00,0x53,
    0x6B,0x79,0x77,0x6F,0x72,0x74,0x68,0x20,0x54,0x56,0x0A,0x20,0x00,0x00,0x00,0xFD,
    0x00,0x30,0x4C,0x0F,0x55,0x1E,0x00,0x0A,0x20,0x20,0x20,0x20,0x20,0x20,0x01,0x1A,

    0x02,0x03,0x32,0x74,0x51,0x02,0x04,0x11,0x13,0x20,0x22,0x90,0x21,0x1F,0x06,0x15,
    0x03,0x07,0x12,0x16,0x05,0x14,0x23,0x09,0x07,0x07,0x83,0x01,0x00,0x00,0x6F,0x03,
    0x0C,0x00,0x10,0x00,0xB8,0x3C,0x20,0xA0,0x62,0x01,0x02,0x03,0x01,0x41,0xE2,0x00,
    0xCF,0x00,0x01,0x1D,0x00,0xBC,0x52,0xD0,0x1E,0x20,0xB8,0x28,0x55,0x40,0xC4,0x8E,
    0x21,0x00,0x00,0x1E,0x01,0x1D,0x80,0xD0,0x72,0x1C,0x16,0x20,0x10,0x2C,0x25,0x80,
    0xC4,0x8E,0x21,0x00,0x00,0x9E,0x8C,0x0A,0xD0,0x8A,0x20,0xE0,0x2D,0x10,0x10,0x3E,
    0x96,0x00,0xC4,0x8E,0x21,0x00,0x00,0x18,0x8C,0x0A,0xD0,0x90,0x20,0x40,0x31,0x20,
    0x0C,0x40,0x55,0x00,0xC4,0x8E,0x21,0x00,0x00,0x18,0x00,0x00,0x00,0x00,0x00,0x34 
}
*/

/*
------------------------------------------------------------------------------
 Function:      HDMIRX_DRV_INPUT_SwitchPort
 Description:   Select the port.
 Parameters:    None.
 Returns:       None.
 Note:          1. called every switch source.
------------------------------------------------------------------------------
*/
HI_VOID HDMIRX_INPUT_SwitchPort(HI_UNF_HDMIRX_PORT_E enPort)
{
	
	HDMIRX_HAL_SelectPort(enPort);
#if SUPPORT_DOUBLE_CTRL    
    if((enPort == HI_UNF_HDMIRX_PORT0)&&(HDMIRX_CTRL_GetSubPort() != HI_UNF_HDMIRX_PORT_BUTT))
    {
        HDMIRX_HAL_SelectPort(HDMIRX_CTRL_GetSubPort());
    }
#endif
    HDMIRX_HAL_ClearAudioInt(enPort);
}

HI_VOID HDMIRX_INPUT_SetDdcEn(HDMIRX_INPUT_DDC_E enType, 
    HI_UNF_HDMIRX_PORT_E enIdx, HI_BOOL bEn)
{
    if(enType == HDMIRX_INPUT_DDC_EDID)
    {     
        HDMIRX_HAL_SetEdidDdcEn(enIdx, bEn);
    }
    else if(enType == HDMIRX_INPUT_DDC_HDCP)
    {
        HDMIRX_HAL_SetHdcpDdcEn(enIdx, bEn);
    }    
}

HI_VOID HDMIRX_INPUT_SetHpdManual(HI_UNF_HDMIRX_PORT_E enIdx, HI_BOOL bManual)
{
    HDMIRX_HAL_SetHpdManual(enIdx, bManual);
}
HI_VOID HDMIRX_INPUT_SetHpdLv(HI_UNF_HDMIRX_PORT_E enIdx, HI_BOOL bLv)
{
    HDMIRX_HAL_SetHpdLevel(enIdx, bLv);
    
}

HI_VOID HDMIRX_INPUT_SetHdmiRtEn(HI_UNF_HDMIRX_PORT_E enPortIdx, HI_BOOL bEn)
{
    if(bEn == HI_TRUE)
    {
        HDMIRX_HAL_SetTermMode(enPortIdx ,HDMIRX_TERM_SEL_HDMI);
        HDMIRX_HAL_SetTermValue(enPortIdx ,HDMIRX_TERM_CTL_45);
    }
    else
    {
        HDMIRX_HAL_SetTermMode(enPortIdx ,HDMIRX_TERM_SEL_OPEN);
    }
            
}
HI_VOID HDMIRX_INPUT_EdidInitial(HI_U32 *pau32Table,HI_U32 *pau32Addr)
{
    HDMIRX_HAL_EdidInit(pau32Table,pau32Addr);
}

HI_VOID HDMIRX_INPUT_EdidChg(HI_VOID)
{
   // HDMIRX_INPUT_SetDdcEn(HDMIRX_INPUT_DDC_EDID, HI_UNF_HDMIRX_PORT_ALL, HI_FALSE);
    HDMIRX_INPUT_SetDdcEn(HDMIRX_INPUT_DDC_EDID, HI_UNF_HDMIRX_PORT0, HI_FALSE);
    HDMIRX_INPUT_SetDdcEn(HDMIRX_INPUT_DDC_EDID, HI_UNF_HDMIRX_PORT1, HI_FALSE);
    HDMIRX_INPUT_SetDdcEn(HDMIRX_INPUT_DDC_EDID, HI_UNF_HDMIRX_PORT2, HI_FALSE);
    HDMIRX_INPUT_SetDdcEn(HDMIRX_INPUT_DDC_EDID, HI_UNF_HDMIRX_PORT3, HI_FALSE);

#if SUPPORT_DOUBLE_CTRL
    HDMIRX_HAL_SetResetEn(HI_UNF_HDMIRX_PORT0,HDMIRX_DDC_RST, HI_TRUE);
#endif
    HDMIRX_HAL_SetResetEn(HI_UNF_HDMIRX_PORT1,HDMIRX_DDC_RST, HI_TRUE);

//    HDMIRX_INPUT_EdidInitial((HI_U32 *)au32OldEdidTable,(HI_U32 *)au32AddrTable); 
#if SUPPORT_DOUBLE_CTRL
        HDMIRX_HAL_SetResetEn(HI_UNF_HDMIRX_PORT0,HDMIRX_DDC_RST, HI_TRUE);
#endif
    HDMIRX_HAL_SetResetEn(HI_UNF_HDMIRX_PORT1,HDMIRX_DDC_RST, HI_FALSE);

    //HDMIRX_INPUT_SetDdcEn(HDMIRX_INPUT_DDC_EDID, HI_UNF_HDMIRX_PORT_ALL, HI_TRUE);
    HDMIRX_INPUT_SetDdcEn(HDMIRX_INPUT_DDC_EDID, HI_UNF_HDMIRX_PORT0, HI_TRUE);
    HDMIRX_INPUT_SetDdcEn(HDMIRX_INPUT_DDC_EDID, HI_UNF_HDMIRX_PORT1, HI_TRUE);
    HDMIRX_INPUT_SetDdcEn(HDMIRX_INPUT_DDC_EDID, HI_UNF_HDMIRX_PORT2, HI_TRUE);
    HDMIRX_INPUT_SetDdcEn(HDMIRX_INPUT_DDC_EDID, HI_UNF_HDMIRX_PORT3, HI_TRUE);
    
    //HDMIRX_INPUT_SetHpdLv(HI_UNF_HDMIRX_PORT_ALL,HI_TRUE);
    HDMIRX_INPUT_SetHpdLv(HI_UNF_HDMIRX_PORT0,HI_TRUE);
    HDMIRX_INPUT_SetHpdLv(HI_UNF_HDMIRX_PORT1,HI_TRUE);
    HDMIRX_INPUT_SetHpdLv(HI_UNF_HDMIRX_PORT2,HI_TRUE);
    HDMIRX_INPUT_SetHpdLv(HI_UNF_HDMIRX_PORT3,HI_TRUE);
    
    msleep(600);
    //HDMIRX_INPUT_SetHpdLv(HI_UNF_HDMIRX_PORT_ALL,HI_FALSE);
    HDMIRX_INPUT_SetHpdLv(HI_UNF_HDMIRX_PORT0,HI_FALSE);
    HDMIRX_INPUT_SetHpdLv(HI_UNF_HDMIRX_PORT1,HI_FALSE);
    HDMIRX_INPUT_SetHpdLv(HI_UNF_HDMIRX_PORT2,HI_FALSE);
    HDMIRX_INPUT_SetHpdLv(HI_UNF_HDMIRX_PORT3,HI_FALSE);
    
    //HDMIRX_INPUT_SetDdcEn(HDMIRX_INPUT_DDC_EDID, HI_UNF_HDMIRX_PORT_ALL, HI_FALSE);
    HDMIRX_INPUT_SetDdcEn(HDMIRX_INPUT_DDC_EDID, HI_UNF_HDMIRX_PORT0, HI_FALSE);
    HDMIRX_INPUT_SetDdcEn(HDMIRX_INPUT_DDC_EDID, HI_UNF_HDMIRX_PORT1, HI_FALSE);
    HDMIRX_INPUT_SetDdcEn(HDMIRX_INPUT_DDC_EDID, HI_UNF_HDMIRX_PORT2, HI_FALSE);
    HDMIRX_INPUT_SetDdcEn(HDMIRX_INPUT_DDC_EDID, HI_UNF_HDMIRX_PORT3, HI_FALSE);
    msleep(200); 
}

HI_VOID HDMIRX_INPUT_Init(HI_VOID)
{
    /*
    HDMIRX_HAL_SetTermMode(HI_UNF_HDMIRX_PORT2, HDMIRX_TERM_SEL_OPEN);
    HDMIRX_INPUT_SetHpdLv(HI_UNF_HDMIRX_PORT_ALL, HI_FALSE);
    HDMIRX_INPUT_SetDdcEn(HDMIRX_INPUT_DDC_EDID, HI_UNF_HDMIRX_PORT_ALL, HI_FALSE);
    HDMIRX_INPUT_SetDdcEn(HDMIRX_INPUT_DDC_HDCP, HI_UNF_HDMIRX_PORT_ALL, HI_FALSE);
    HDMIRX_HAL_SetResetEn(HDMIRX_DDC_RST, HI_TRUE);
    HDMIRX_INPUT_EdidInitial((HI_U32 *)au32EdidTable);
    HDMIRX_HAL_SetResetEn(HDMIRX_DDC_RST, HI_FALSE);
    
    msleep(400);
    HDMIRX_INPUT_SetDdcEn(HDMIRX_INPUT_DDC_EDID, HI_UNF_HDMIRX_PORT_ALL, HI_TRUE);
    HDMIRX_HAL_SetTermMode(HI_UNF_HDMIRX_PORT2, HDMIRX_TERM_SEL_HDMI);
    msleep(40);
    HDMIRX_INPUT_SetHpdLv(HI_UNF_HDMIRX_PORT_ALL, HI_TRUE);
    HDMIRX_INPUT_SetHpdManual(HI_UNF_HDMIRX_PORT_ALL, HI_FALSE);
   // HDMIRX_HAL_SetMhlEn(HI_TRUE);
    */
   // msleep(340);
    //HDMIRX_INPUT_SetHpdLv(HI_UNF_HDMIRX_PORT_ALL, HI_FALSE);
    //HDMIRX_INPUT_SetDdcEn(HDMIRX_INPUT_DDC_EDID, HI_UNF_HDMIRX_PORT_ALL, HI_FALSE);
    //HDMIRX_INPUT_SetDdcEn(HDMIRX_INPUT_DDC_HDCP, HI_UNF_HDMIRX_PORT_ALL, HI_FALSE);
    
if(HI_TRUE == bSupEDIDChg)
{
    HDMIRX_INPUT_EdidChg();
}   

#if SUPPORT_DOUBLE_CTRL
    HDMIRX_HAL_SetResetEn(HI_UNF_HDMIRX_PORT0,HDMIRX_DDC_RST, HI_TRUE);
#endif
    HDMIRX_HAL_SetResetEn(HI_UNF_HDMIRX_PORT1,HDMIRX_DDC_RST, HI_TRUE);
if(HI_TRUE == bSupEDIDInit)
{
 //   HDMIRX_INPUT_EdidInitial((HI_U32 *)au32EdidTable,(HI_U32 *)au32AddrTable);   
}
else
{
    msleep(2);
}
    
#if SUPPORT_DOUBLE_CTRL
    HDMIRX_HAL_SetResetEn(HI_UNF_HDMIRX_PORT0,HDMIRX_DDC_RST, HI_FALSE);
#endif
    HDMIRX_HAL_SetResetEn(HI_UNF_HDMIRX_PORT1,HDMIRX_DDC_RST, HI_FALSE);

    //HDMIRX_INPUT_SetDdcEn(HDMIRX_INPUT_DDC_EDID, HI_UNF_HDMIRX_PORT_ALL, HI_TRUE);
    //msleep(400);
    /*
    HDMIRX_INPUT_SetHdmiRtEn(HI_UNF_HDMIRX_PORT0, HI_TRUE);
#if !SUPPORT_PORT0_ONLY
    HDMIRX_INPUT_SetHdmiRtEn(HI_UNF_HDMIRX_PORT1, HI_TRUE);
    HDMIRX_INPUT_SetHdmiRtEn(HI_UNF_HDMIRX_PORT2, HI_TRUE);
    HDMIRX_INPUT_SetHdmiRtEn(HI_UNF_HDMIRX_PORT3, HI_TRUE);
#endif
    */
    //msleep(200);
  //  HDMIRX_INPUT_SetDdcEn(HDMIRX_INPUT_DDC_EDID, HI_UNF_HDMIRX_PORT_ALL, HI_TRUE);
  //  HDMIRX_INPUT_SetDdcEn(HDMIRX_INPUT_DDC_HDCP, HI_UNF_HDMIRX_PORT_ALL, HI_TRUE);
    msleep(40);
 //   HDMIRX_INPUT_SetHpdLv(HI_UNF_HDMIRX_PORT_ALL, HI_TRUE);
    //HDMIRX_INPUT_SetHpdManual(HI_UNF_HDMIRX_PORT_ALL, HI_FALSE);
}   

#ifdef __cplusplus
 #if __cplusplus
}
 #endif
#endif /* __cplusplus */

